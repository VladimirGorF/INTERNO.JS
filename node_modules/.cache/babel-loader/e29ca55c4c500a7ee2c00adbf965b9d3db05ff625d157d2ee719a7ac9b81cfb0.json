{"ast":null,"code":"import _objectSpread from \"/Users/vladimirgorbunov/Desktop/\\u0413\\u0438\\u043A \\u0411\\u0440\\u0435\\u0438\\u0306\\u043D/INTERNO.JS/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport { mapMutations, mapActions, mapGetters } from 'vuex';\nimport MyArticle from './MyArticle';\nexport default {\n  name: 'ArticlesNews',\n  components: {\n    MyArticle: MyArticle\n  },\n  data: function data() {\n    return {\n      pageStart: 1,\n      // начало отображения страниц\n      pageEnd: 4,\n      pagesQuantity: 1,\n      activePageId: 1,\n      // активная подсвечиваемая страница по умолчанию\n      pages: [],\n      products: [],\n      productStart: 0,\n      productEnd: 6,\n      productsQuantity: 0\n    };\n  },\n  created: function created() {\n    // при создании вызывается мутация SET_articles и в нее передаются из коммита в actions данные из fetchDataArticles\n    this.SET_articles(this.fetchDataArticles());\n    this.productsGet();\n  },\n  methods: _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, mapMutations(['SET_articles'])), mapActions(['fetchDataArticles'])), mapGetters(['getArticlesList'])), {}, {\n    productsGet: function productsGet() {\n      var _this = this;\n      setTimeout(function () {\n        if (_this.$store.getters.getArticlesList.length) {\n          _this.products = _this.$store.getters.getArticlesList; // получаем из хранилища\n        }\n      }, 100);\n    },\n    makeSound: function makeSound() {\n      var audio = new Audio(require('../../../assets/sounds/knopka-klik-korotkii-odinochnyii-shumnyii.mp3'));\n      audio.play();\n    },\n    movePage: function movePage(page) {\n      if (this.pageEnd > this.pagesQuantity + 1 || page === this.pagesQuantity) {\n        return page; // бессмысленный возврат для linter\n      } else if (page + 1 === this.pageEnd) {\n        this.pageStart += 1;\n        this.pageEnd += 1;\n      } else if (page === this.pageStart && this.pageStart !== 1) {\n        this.pageStart -= 1;\n        this.pageEnd -= 1;\n      }\n    },\n    forwardPage: function forwardPage() {\n      if (this.activePageId === this.pagesQuantity) {\n        return;\n      } else if (this.pageEnd === this.pagesQuantity + 1) {\n        this.activePageId += 1;\n        return;\n      } else if (this.activePageId === 1) {\n        this.activePageId += 1;\n        return;\n      }\n      this.pageStart += 1;\n      this.pageEnd += 1;\n      this.activePageId += 1;\n    },\n    backPage: function backPage() {\n      if (this.activePageId === 1) {\n        return;\n      } else if (this.pageStart - 1 <= 1) {\n        this.pageStart = 1;\n        this.pageEnd = 4;\n        this.activePageId -= 1;\n        return;\n      } else if (this.activePageId === this.pagesQuantity) {\n        this.activePageId -= 1;\n        return;\n      }\n      this.activePageId -= 1;\n      this.pageStart -= 1;\n      this.pageEnd -= 1;\n    },\n    getProducts: function getProducts(page, step) {\n      if (this.activePageId === 1) {\n        this.productStart = 0;\n        this.productEnd = 6;\n      } else {\n        this.productEnd = step * page + 1;\n        this.productStart = this.productEnd - 6;\n      }\n    },\n    pagesCounterFunc: function pagesCounterFunc() {\n      var pagesQuantity = Math.ceil(this.products.length / 6); // определяем количество страниц\n      for (var i = 2; i < pagesQuantity + 2; i++) {\n        this.pages.push({\n          id: i,\n          \"class\": ''\n        });\n      }\n      this.pagesQuantity = pagesQuantity;\n    }\n  }),\n  computed: {\n    sliceProducts: function sliceProducts() {\n      if (this.products.length) {\n        return this.products.slice(this.productStart, this.productEnd); // срез продуктов на вывод по 6 штук на странице\n      }\n\n      return [];\n    },\n    slicePages: function slicePages() {\n      return this.products.slice(this.pageStart, this.pageEnd); // срез страниц\n    }\n  }\n};","map":{"version":3,"names":["mapMutations","mapActions","mapGetters","MyArticle","name","components","data","pageStart","pageEnd","pagesQuantity","activePageId","pages","products","productStart","productEnd","productsQuantity","created","SET_articles","fetchDataArticles","productsGet","methods","_objectSpread","_this","setTimeout","$store","getters","getArticlesList","length","makeSound","audio","Audio","require","play","movePage","page","forwardPage","backPage","getProducts","step","pagesCounterFunc","Math","ceil","i","push","id","computed","sliceProducts","slice","slicePages"],"sources":["src/components/pages/Blog/ArticlesNews.vue"],"sourcesContent":["<template>\n  <div>\n    <div id=\"app\" class=\"box__blogPage\">\n      <div class=\"blogPageContent\">\n        <div id=\"articles&news\" class=\"titleBlogPage\">Articles & News</div>\n        <div class=\"examples\">\n          <MyArticle\n            v-for=\"item in sliceProducts\"\n            :key=\"item.id\"\n            :item=\"item\"\n          />\n          <!-- Нужно забиндить :item = \"item\" чтобы его увидел дочерний компонент тогда он попадет в его Props -->\n        </div>\n        <div class=\"pagination\">\n          <div class=\"pagBox\">\n            <a\n              href=\"#articles&news\"\n              class=\"page\"\n              @click=\"\n                backPage();\n                pagesCounterFunc();\n                makeSound();\n                getProducts(activePageId, 6);\n              \"\n              >&lt;</a\n            >\n            <a\n              href=\"#articles&news\"\n              class=\"page\"\n              v-for=\"page in slicePages\"\n              :key=\"page.id\"\n              :class=\"{ active: page.id === activePageId }\"\n              @click=\"\n                activePageId = page.id;\n                getProducts(page.id, 6);\n                pagesCounterFunc();\n                makeSound();\n                movePage(page.id);\n              \"\n              >0{{ page.id }}</a\n            >\n            <a\n              href=\"#articles&news\"\n              class=\"page\"\n              @click=\"\n                forwardPage();\n                pagesCounterFunc();\n                makeSound();\n                getProducts(activePageId, 6);\n              \"\n              >&gt;</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapMutations, mapActions, mapGetters } from 'vuex'\nimport MyArticle from './MyArticle'\nexport default {\n  name: 'ArticlesNews',\n  components: {\n    MyArticle\n  },\n  data () {\n    return {\n      pageStart: 1, // начало отображения страниц\n      pageEnd: 4,\n      pagesQuantity: 1,\n      activePageId: 1, // активная подсвечиваемая страница по умолчанию\n      pages: [],\n      products: [],\n      productStart: 0,\n      productEnd: 6,\n      productsQuantity: 0\n    }\n  },\n  created () {\n    // при создании вызывается мутация SET_articles и в нее передаются из коммита в actions данные из fetchDataArticles\n    this.SET_articles(this.fetchDataArticles())\n    this.productsGet()\n  },\n  methods: {\n    ...mapMutations(['SET_articles']),\n    ...mapActions(['fetchDataArticles']),\n    ...mapGetters(['getArticlesList']),\n\n    productsGet () {\n      setTimeout(() => {\n        if (this.$store.getters.getArticlesList.length) {\n          this.products = this.$store.getters.getArticlesList // получаем из хранилища\n        }\n      }, 100)\n    },\n\n    makeSound () {\n      const audio = new Audio(\n        require('../../../assets/sounds/knopka-klik-korotkii-odinochnyii-shumnyii.mp3')\n      )\n      audio.play()\n    },\n    movePage (page) {\n      if (\n        this.pageEnd > this.pagesQuantity + 1 ||\n        page === this.pagesQuantity\n      ) {\n        return page // бессмысленный возврат для linter\n      } else if (page + 1 === this.pageEnd) {\n        this.pageStart += 1\n        this.pageEnd += 1\n      } else if (page === this.pageStart && this.pageStart !== 1) {\n        this.pageStart -= 1\n        this.pageEnd -= 1\n      }\n    },\n    forwardPage () {\n      if (this.activePageId === this.pagesQuantity) {\n        return\n      } else if (this.pageEnd === this.pagesQuantity + 1) {\n        this.activePageId += 1\n        return\n      } else if (this.activePageId === 1) {\n        this.activePageId += 1\n        return\n      }\n      this.pageStart += 1\n      this.pageEnd += 1\n      this.activePageId += 1\n    },\n    backPage () {\n      if (this.activePageId === 1) {\n        return\n      } else if (this.pageStart - 1 <= 1) {\n        this.pageStart = 1\n        this.pageEnd = 4\n        this.activePageId -= 1\n        return\n      } else if (this.activePageId === this.pagesQuantity) {\n        this.activePageId -= 1\n        return\n      }\n      this.activePageId -= 1\n      this.pageStart -= 1\n      this.pageEnd -= 1\n    },\n    getProducts (page, step) {\n      if (this.activePageId === 1) {\n        this.productStart = 0\n        this.productEnd = 6\n      } else {\n        this.productEnd = step * page + 1\n        this.productStart = this.productEnd - 6\n      }\n    },\n    pagesCounterFunc () {\n      const pagesQuantity = Math.ceil(this.products.length / 6) // определяем количество страниц\n      for (let i = 2; i < pagesQuantity + 2; i++) {\n        this.pages.push({\n          id: i,\n          class: ''\n        })\n      }\n      this.pagesQuantity = pagesQuantity\n    }\n  },\n  computed: {\n    sliceProducts () {\n      if (this.products.length) {\n        return this.products.slice(this.productStart, this.productEnd) // срез продуктов на вывод по 6 штук на странице\n      }\n      return []\n    },\n    slicePages () {\n      return this.products.slice(this.pageStart, this.pageEnd) // срез страниц\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}